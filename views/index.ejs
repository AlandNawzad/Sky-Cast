<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Font and Icon Libraries -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@300..700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Roboto|Varela+Round" rel="stylesheet">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/weather-icons/2.0.10/css/weather-icons.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    
    <!-- Bootstrap CSS (latest version) -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    
    <!-- Custom CSS -->
    <link rel="stylesheet" href="styles/searchBar.css">
    <link rel="stylesheet" href="styles/styles.css">

    <!-- Sky Cast Icon -->
    <link rel="icon" href="data:image/svg+xml,%3Csvg%20data-name%3D%22Layer%201%22%20id%3D%22Layer_1%22%20viewBox%3D%220%200%2064%2064%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill%3A%23efcc00%3B%7D.cls-2%7Bfill%3Anone%3Bstroke%3A%23efcc00%3Bstroke-linecap%3Around%3Bstroke-miterlimit%3A10%3Bstroke-width%3A3px%3B%7D.cls-3%7Bfill%3Aurl%28%23linear-gradient%29%3B%7D.cls-4%7Bfill%3Aurl%28%23linear-gradient-2%29%3B%7D%3C%2Fstyle%3E%3ClinearGradient%20gradientTransform%3D%22matrix%28-1%2C%200%2C%200%2C%201%2C%2065.8%2C%200%29%22%20gradientUnits%3D%22userSpaceOnUse%22%20id%3D%22linear-gradient%22%20x1%3D%2246.72%22%20x2%3D%2225.63%22%20y1%3D%2258.39%22%20y2%3D%2231.08%22%3E%3Cstop%20offset%3D%220%22%20stop-color%3D%22%23f2f2f2%22%2F%3E%3Cstop%20offset%3D%221%22%20stop-color%3D%22%23cfcfcf%22%2F%3E%3C%2FlinearGradient%3E%3ClinearGradient%20gradientTransform%3D%22matrix%280%2C%20-1%2C%20-1%2C%200%2C%20109.04%2C%2059.43%29%22%20gradientUnits%3D%22userSpaceOnUse%22%20id%3D%22linear-gradient-2%22%20x1%3D%2212.25%22%20x2%3D%2223.86%22%20y1%3D%2256.93%22%20y2%3D%2274.58%22%3E%3Cstop%20offset%3D%220.02%22%20stop-color%3D%22%23fff%22%2F%3E%3Cstop%20offset%3D%221%22%20stop-color%3D%22%23fff%22%20stop-opacity%3D%220%22%2F%3E%3C%2FlinearGradient%3E%3C%2Fdefs%3E%3Ctitle%2F%3E%3Ccircle%20class%3D%22cls-1%22%20cx%3D%2239.8%22%20cy%3D%2228%22%20r%3D%2212.59%22%2F%3E%3Cline%20class%3D%22cls-2%22%20x1%3D%2239.8%22%20x2%3D%2239.8%22%20y1%3D%228%22%20y2%3D%2212.44%22%2F%3E%3Cline%20class%3D%22cls-2%22%20x1%3D%2239.8%22%20x2%3D%2239.8%22%20y1%3D%2243.56%22%20y2%3D%2248%22%2F%3E%3Cline%20class%3D%22cls-2%22%20x1%3D%2219.8%22%20x2%3D%2224.25%22%20y1%3D%2228%22%20y2%3D%2228%22%2F%3E%3Cline%20class%3D%22cls-2%22%20x1%3D%2255.36%22%20x2%3D%2259.8%22%20y1%3D%2228%22%20y2%3D%2228%22%2F%3E%3Cline%20class%3D%22cls-2%22%20x1%3D%2225.66%22%20x2%3D%2228.8%22%20y1%3D%2213.86%22%20y2%3D%2217%22%2F%3E%3Cline%20class%3D%22cls-2%22%20x1%3D%2250.8%22%20x2%3D%2253.94%22%20y1%3D%2239%22%20y2%3D%2242.14%22%2F%3E%3Cline%20class%3D%22cls-2%22%20x1%3D%2225.66%22%20x2%3D%2228.8%22%20y1%3D%2242.14%22%20y2%3D%2239%22%2F%3E%3Cline%20class%3D%22cls-2%22%20x1%3D%2250.8%22%20x2%3D%2253.94%22%20y1%3D%2217%22%20y2%3D%2213.86%22%2F%3E%3Cpath%20class%3D%22cls-3%22%20d%3D%22M23.5%2C21.9A17.49%2C17.49%2C0%2C0%2C1%2C39%2C31.22a13.75%2C13.75%2C0%2C1%2C1%2C6.92%2C25.62L23.5%2C56.9a17.5%2C17.5%2C0%2C0%2C1%2C0-35Z%22%2F%3E%3Ccircle%20class%3D%22cls-4%22%20cx%3D%2245.89%22%20cy%3D%2243.09%22%20r%3D%2213.75%22%20transform%3D%22translate%28-7.96%2075.69%29%20rotate%28-74.39%29%22%2F%3E%3C%2Fsvg%3E">

    <title>Sky Cast</title>
</head>

<body>



    <!-- alert for when there is an error -->
    <% if (locals.error) { %>
        <%- include("partials/error.ejs") %>
            <% }else{ %>

                <div class="d-flex flex-lg-row flex-column">
                    <div class="main-div col-lg-5 vh-100">
                        <!-- search bar -->
                        <div class="d-flex justify-content-center">
                            <form class="searchBar col-10 mt-3" action="/search" method="POST">
                                <input id="searchQueryInput" type="text" name="searchQueryInput" placeholder="Search"
                                    value="" />
                                <button id="searchQuerySubmit" type="submit" name="searchQuerySubmit">
                                    <svg style="width:24px;height:24px;" viewBox="0 0 24 24">
                                        <path fill="#748CF1"
                                            d="M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z" />
                                    </svg>
                                </button>
                            </form>
                        </div>

                        <div class="weather-summary">
                            <!-- weather icon -->
                            <i class="wi <%= data.weatherIconClass %> img-icon"></i>



                            <!-- temperature -->
                            <div>
                                <p class="tempirature">
                                    <%= data.main.temp%>°c
                                </p>
                            </div>
                            <!-- weather text -->
                            <div class="weather-text">
                                <p>
                                    <%= data.weather[0].description %>
                                </p>
                            </div>
                        </div>
                        <div class="d-flex justify-content-center">
                            <hr>
                        </div>

                        <!-- date info -->
                        <div class="date-info text-center">
                            <p class="date"><%= data.dateInfo.date %></p>
                            <p class="time"><%= data.dateInfo.time %></p>
                            <p class="dayStatus"><%= data.dateInfo.dayStatus %></p>
                        </div>

                        <!-- location info -->
                        <div class="location-info">
                            <p class="location mb-4">
                                <%= data.name %>, <%= data.sys.country %>
                            </p>
                        </div>
                    </div>
                    <div class="secondary-div col-lg-7 pb-5">
                        <div class="container">
                            <div class="container mt-3 mb-4">
                                <p class="header-text">Today</p>
                            </div>
                            <!-- row 1 -->
                            <div class="container row mt-lg-5">
                                <!-- wind info -->
                                <div class="col-lg-6 my-2">
                                    <div class="weather-info-box">
                                        <p class="title">Wind</p>
                                        <p class="value">
                                            <%= data.wind.speed %> KM/h
                                        </p>
                                        <p>&nbsp;</p>
                                    </div>
                                </div>

                                <div class="col-lg-6 my-2">
                                    <div class="weather-info-box">
                                        <p class="title">Feels Like</p>
                                        <p class="value">
                                            <%= data.main.feels_like %>°c
                                        </p>
                                        <p>&nbsp;</p>
                                    </div>
                                </div>
                            </div>
                            <!-- row 2 -->
                            <div class="container row mt-lg-5">
                                <!-- visibility info -->
                                <div class="col-lg-6 my-2">
                                    <div class="weather-info-box">
                                        <p class="title">Visibility</p>
                                        <p class="value">
                                            <%= data.visibility%> KM
                                        </p>
                                        <p>&nbsp;</p>
                                    </div>
                                </div>
                                <div class="col-lg-6 my-2">
                                    <div class="weather-info-box">
                                        <p class="title">Humidity</p>
                                        <p class="value">
                                            <%= data.main.humidity %>%
                                        </p>
                                        <p>&nbsp;</p>
                                    </div>
                                </div>

                            </div>
                            <!-- row 3 -->
                            <div class="container row mt-lg-5">
                                <!-- temperature history -->
                                <div class="col-lg-6 my-2">
                                    <div class="weather-info-box">
                                        <p class="title">Temperature History</p>
                                        <p style="font-size: 24px;">Max <%= data.main.temp_max %>°c</p>
                                        <p style="font-size: 24px;">Min <%= data.main.temp_min %>°c</p>
                                    </div>
                                </div>
                                <div class="col-lg-6 my-2">
                                    <div class="weather-info-box">
                                        <p class="title">Sun</p>
                                        <p class="time"><span class="sun-condition">Rise</span>
                                            <%= data.sunrise %>
                                        </p>
                                        <p class="time"><span class="sun-condition">Set</span>
                                            <%= data.sunset %>
                                        </p>
                                    </div>
                                </div>

                            </div>
                            <p class="p-4 mt-md-4 text-center text-lg-start">Developed By: <a class="footer-text"
                                    href="https://alandnawzad.github.io/">Aland Nawzad</a></p>
                        </div>
                    </div>
                </div>
                <% } %>
</body>

</html>